{"title":"Using RStudio","markdown":{"yaml":{"title":"Using RStudio","title-block-banner":false,"date":"last-modified","published-title":"Last Updated","toc":true},"headingText":"1. Installing R","containsRefs":false,"markdown":"\n\n![](../media/installing_via_Rstudio.png)\n\nThis page explains how to set up RStudio in order to access and use the COMET notebooks.\n\n:::{.callout-note}\nIf you are using RStudio, you will want to ensure that you use the `.Rmd` or `.qmd` (R Markdown or Quarto) versions of the notebooks, not the `.ipynb` versions.  Currently, RStudio does not natively support the Python notebook format.\n:::\n\n\nThe first thing we'll need to do is install R onto our computer.\n\n::: panel-tabset\n\n### Windows\n\n1.  Head to [cran.r-project.org for windows](https://cran.r-project.org/bin/windows/base/) and press `Download R-4.4.0 for Windows`\n2.  Select `Okay > Next` and select your destination location.\n3.  Select the components `Main files`, `64-bit files` and `Message translations`. Then, press *next*.\n4.  Select the toggle `No (acccept defaults)` and press *next*.\n5.  Select both `save version number in registry` and \\`associate R with .RData files.\n6.  Once the installation is complete, press `Finish`.\n\n### MacOS\n\n1.  Head to [cran.r-project.org for macOSx](https://cran.r-project.org/bin/macosx/) and select the release (on the left-hand side) suited for your device type.\n2.  Open the installer and select `continue` \\> `continue` \\> `continue` \\> `agree` \\> `install`.\n\n:::\n\n## 2. Installing RStudio\n\nWe'll now install RStudio, our IDE of choice.\n\n::: panel-tabset\n\n## Windows\n\n1.  Head to [RStudio](https://posit.co/download/rstudio-desktop/) and press `Download RStudio Desktop for windows`.\n2.  Open the RStudio setup and press `Next` \\> `Next` \\> `Install`.\\\n\n## MacOS\n\n1.  [RStudio](https://posit.co/download/rstudio-desktop/), scroll down to \"OS\", and select the Mac installer.\n2.  Open the Rstudio setup and install.\n:::\n\n## 3. Installing package compilers\n\nWe'll need to install a package compiler to activate the `renv.lock`, a package bundle made specifically for the COMET notebooks.\n\n::: panel-tabset\n\n## Windows\n\nRTools is a program that allows us to compile R packages from source.\n\n> [Rtools can be installed with link.](https://cran.r-project.org/bin/windows/Rtools/rtools44/files/rtools44-6104-6039.exe)\n\nIn the Rtools installer, press `Next` \\> `Next` (ensuring that both check boxes are ticked) \\> `Install`.\n\n## MacOS\n\nFor Mac, you'll need to install *Xcode Command Line Tools* instead.\n\n1.  Open the Mac terminal. To do so, click on the spotlight icon in the menu bar and search for “terminal.”\n2.  **Install Homebrew**: Homebrew is a package manager for MacOS which we will use to install Xcode. In the Mac terminal, paste:\n\n`/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"`\n\nThis might prompt you to enter your user password, which is the password that you use to sign into your device (Note that for privacy reasons you won't be able to see the characters that you type). Once you've entered your password, press `enter`. This may take a while to run.\n\n3. You should get an output similar to this:\n\n![](../media/homebrew.png)\n\nNotice the warning. To fix this, we'll need to add our installation to the system path. In the terminal, run:\n\n`(echo; echo 'eval \"$(/opt/homebrew/bin/brew shellenv)\"') >> ~/.zprofile`\n\nfollowed by:\n\n`eval \"$(/opt/homebrew/bin/brew shellenv)\"`\n\nwhich will add the required path to the installation.\n\n4.  **Verify installations:** to check that Xtools is installed, run `$ brew doctor` in the termial. This should display the output *\"Your system is ready to brew.\"*\n\n:::\n\n## 4. Downloading and opening the COMET notebooks\n\n### 4.1. Downloading the COMET notebooks\n\n1.  Open [comet.arts.ubc.ca](https://comet.arts.ubc.ca/) and, in the top right corner, select `Launch Comet` \\> `Launch Locally`. This will download a .zip file to your computer.\n2.  Open the file in file explorer and extract the zip folder to your preferred destination.\n\n## 4.2. Importing the COMET notebooks into RStudio\n\nWe can now import the COMET notebooks into RStudio. When we say \"import\", what we really mean is setting the **working directory**. The working directory is the location in your computer where you are working in. Unlike VSCode and other high-level IDEs, setting our working directory is done manually by specifiying our location using the R console.\n\n1.  Locate the downloaded COMET notebooks and copy the *absolute file path* by right-clicking on the folder and pressing `copy as path`. If you are on a Mac, hold the option key and select `Copy (file name) as Pathname`.\n2.  Locate the current working directory in RStudio by entering `getwd()` in the R console (bottom left of the screen).\n\n![The output should look something like this on windows, but won't necessarily give the same file path.](../media/Rstudio_getwd.png)\n\n3.  We'll now set our working directory to the COMET folder. To do so, enter the following command into the console:\n\n`setwd(\"C:/your/file/path/goes/here\")`\n\nWhere \"C:/your/file/path/goes/here\" is the absolute file path you copied earlier, **with the backshashes (\\\\) set to forward slashes (/)**. For example, the file path (on windows) `C:\\users\\i_love_econ` will be changed to `C:/users/i_love_econ`.\n\n::: callout-warning\n\nRStudio requires file paths to have a forward slash instead of a back slash. If you don't adjust the absolute file path accordingly, you won't be able to set/change your working directory.\n\n:::\n\nTo check that you've got the right working directory, run `getwd()` again.\n\n### 4.3. Changing your working directory in the files tab.\n\nOn the right-hand bottom side of Rstudio there is a display that shows your files. If you'd like to change it to your current working directory, press the small button `...` button called \"go to directory\". This will allow you to pick the COMET modules folder from your file system and navigate it from within R.\n\n![](../media/Changing_files.png)\n\n## 5. Activating the COMET environment\n\nWe're now ready to activate the COMET environment in RStudio.\n\n1.  In the R console, enter the following line of code: `install.packages(\"renv\")`. This will install the `renv` package, which will allow RStudio to read the custom environment file for the notebooks.\n\n2.  In the R console, run `renv::restore()`. You should get a message that reads: *\"It looks like you've called renv::restore() in a project that hasn't been activated yet. How would you like to proceed?\"*. Press `1`. This should restart R. If it doesn't, run `renv::activate()`.\n\n3.  To check that everything is installed properly, run `renv::status()`. This command will give you a the list of packages in your environment (Note that this might take some time to run).","srcMarkdownNoYaml":"\n\n![](../media/installing_via_Rstudio.png)\n\nThis page explains how to set up RStudio in order to access and use the COMET notebooks.\n\n:::{.callout-note}\nIf you are using RStudio, you will want to ensure that you use the `.Rmd` or `.qmd` (R Markdown or Quarto) versions of the notebooks, not the `.ipynb` versions.  Currently, RStudio does not natively support the Python notebook format.\n:::\n\n## 1. Installing R\n\nThe first thing we'll need to do is install R onto our computer.\n\n::: panel-tabset\n\n### Windows\n\n1.  Head to [cran.r-project.org for windows](https://cran.r-project.org/bin/windows/base/) and press `Download R-4.4.0 for Windows`\n2.  Select `Okay > Next` and select your destination location.\n3.  Select the components `Main files`, `64-bit files` and `Message translations`. Then, press *next*.\n4.  Select the toggle `No (acccept defaults)` and press *next*.\n5.  Select both `save version number in registry` and \\`associate R with .RData files.\n6.  Once the installation is complete, press `Finish`.\n\n### MacOS\n\n1.  Head to [cran.r-project.org for macOSx](https://cran.r-project.org/bin/macosx/) and select the release (on the left-hand side) suited for your device type.\n2.  Open the installer and select `continue` \\> `continue` \\> `continue` \\> `agree` \\> `install`.\n\n:::\n\n## 2. Installing RStudio\n\nWe'll now install RStudio, our IDE of choice.\n\n::: panel-tabset\n\n## Windows\n\n1.  Head to [RStudio](https://posit.co/download/rstudio-desktop/) and press `Download RStudio Desktop for windows`.\n2.  Open the RStudio setup and press `Next` \\> `Next` \\> `Install`.\\\n\n## MacOS\n\n1.  [RStudio](https://posit.co/download/rstudio-desktop/), scroll down to \"OS\", and select the Mac installer.\n2.  Open the Rstudio setup and install.\n:::\n\n## 3. Installing package compilers\n\nWe'll need to install a package compiler to activate the `renv.lock`, a package bundle made specifically for the COMET notebooks.\n\n::: panel-tabset\n\n## Windows\n\nRTools is a program that allows us to compile R packages from source.\n\n> [Rtools can be installed with link.](https://cran.r-project.org/bin/windows/Rtools/rtools44/files/rtools44-6104-6039.exe)\n\nIn the Rtools installer, press `Next` \\> `Next` (ensuring that both check boxes are ticked) \\> `Install`.\n\n## MacOS\n\nFor Mac, you'll need to install *Xcode Command Line Tools* instead.\n\n1.  Open the Mac terminal. To do so, click on the spotlight icon in the menu bar and search for “terminal.”\n2.  **Install Homebrew**: Homebrew is a package manager for MacOS which we will use to install Xcode. In the Mac terminal, paste:\n\n`/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"`\n\nThis might prompt you to enter your user password, which is the password that you use to sign into your device (Note that for privacy reasons you won't be able to see the characters that you type). Once you've entered your password, press `enter`. This may take a while to run.\n\n3. You should get an output similar to this:\n\n![](../media/homebrew.png)\n\nNotice the warning. To fix this, we'll need to add our installation to the system path. In the terminal, run:\n\n`(echo; echo 'eval \"$(/opt/homebrew/bin/brew shellenv)\"') >> ~/.zprofile`\n\nfollowed by:\n\n`eval \"$(/opt/homebrew/bin/brew shellenv)\"`\n\nwhich will add the required path to the installation.\n\n4.  **Verify installations:** to check that Xtools is installed, run `$ brew doctor` in the termial. This should display the output *\"Your system is ready to brew.\"*\n\n:::\n\n## 4. Downloading and opening the COMET notebooks\n\n### 4.1. Downloading the COMET notebooks\n\n1.  Open [comet.arts.ubc.ca](https://comet.arts.ubc.ca/) and, in the top right corner, select `Launch Comet` \\> `Launch Locally`. This will download a .zip file to your computer.\n2.  Open the file in file explorer and extract the zip folder to your preferred destination.\n\n## 4.2. Importing the COMET notebooks into RStudio\n\nWe can now import the COMET notebooks into RStudio. When we say \"import\", what we really mean is setting the **working directory**. The working directory is the location in your computer where you are working in. Unlike VSCode and other high-level IDEs, setting our working directory is done manually by specifiying our location using the R console.\n\n1.  Locate the downloaded COMET notebooks and copy the *absolute file path* by right-clicking on the folder and pressing `copy as path`. If you are on a Mac, hold the option key and select `Copy (file name) as Pathname`.\n2.  Locate the current working directory in RStudio by entering `getwd()` in the R console (bottom left of the screen).\n\n![The output should look something like this on windows, but won't necessarily give the same file path.](../media/Rstudio_getwd.png)\n\n3.  We'll now set our working directory to the COMET folder. To do so, enter the following command into the console:\n\n`setwd(\"C:/your/file/path/goes/here\")`\n\nWhere \"C:/your/file/path/goes/here\" is the absolute file path you copied earlier, **with the backshashes (\\\\) set to forward slashes (/)**. For example, the file path (on windows) `C:\\users\\i_love_econ` will be changed to `C:/users/i_love_econ`.\n\n::: callout-warning\n\nRStudio requires file paths to have a forward slash instead of a back slash. If you don't adjust the absolute file path accordingly, you won't be able to set/change your working directory.\n\n:::\n\nTo check that you've got the right working directory, run `getwd()` again.\n\n### 4.3. Changing your working directory in the files tab.\n\nOn the right-hand bottom side of Rstudio there is a display that shows your files. If you'd like to change it to your current working directory, press the small button `...` button called \"go to directory\". This will allow you to pick the COMET modules folder from your file system and navigate it from within R.\n\n![](../media/Changing_files.png)\n\n## 5. Activating the COMET environment\n\nWe're now ready to activate the COMET environment in RStudio.\n\n1.  In the R console, enter the following line of code: `install.packages(\"renv\")`. This will install the `renv` package, which will allow RStudio to read the custom environment file for the notebooks.\n\n2.  In the R console, run `renv::restore()`. You should get a message that reads: *\"It looks like you've called renv::restore() in a project that hasn't been activated yet. How would you like to proceed?\"*. Press `1`. This should restart R. If it doesn't, run `renv::activate()`.\n\n3.  To check that everything is installed properly, run `renv::status()`. This command will give you a the list of packages in your environment (Note that this might take some time to run)."},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":false,"cache":false,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":true,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","filters":["answers"],"css":["../../styles.css"],"toc":true,"email-obfuscation":"javascript","include-in-header":["../../metadata.html"],"output-file":"rstudio_setup.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en-GB","fig-responsive":true,"quarto-version":"1.5.57","theme":{"light":["sandstone","../../comet_theme.scss"]},"anchor-sections":true,"page-layout":"full","title":"Using RStudio","title-block-banner":false,"date":"last-modified","published-title":"Last Updated"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}